{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Uni-2020\\\\Java\\\\imy-project\\\\inventory-management-system\\\\test-react-app\\\\src\\\\component\\\\ProductComponent.jsx\";\nimport React, { Component } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport ProductDataService from '../service/ProductDataService';\nimport '../myStyles/Style.css';\nimport CustomSelect from './Filters/CustomSelect';\n\nclass ProductComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeType = type => {\n      this.setState({\n        productType: type\n      });\n    };\n\n    this.state = {\n      id: this.props.match.params.id,\n      name: '',\n      description: '',\n      productType: '',\n      productTypes: [],\n      subCategory: '',\n      subCategories: [],\n      categories: [],\n      selectedCategoryId: '',\n      amortizationPercent: ''\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.validate = this.validate.bind(this);\n    this.cancelForm = this.cancelForm.bind(this);\n  }\n\n  componentDidMount() {\n    ProductDataService.retrieve(this.state.id).then(response => {\n      if (this.state.id > 0) {\n        this.setState({\n          name: response.data.name,\n          description: response.data.description,\n          productType: response.data.productType,\n          subCategory: response.data.subCategory,\n          amortizationPercent: response.data.amortizationPercent\n        });\n      }\n\n      this.setState({\n        productTypes: response.data.productTypes,\n        subCategories: response.data.subCategories,\n        categories: response.data.categories\n      });\n    });\n  }\n\n  onSubmit(values) {\n    let item = {\n      id: this.state.id,\n      name: values.name,\n      targetDate: values.targetDate\n    };\n    console.log('item = ' + item);\n    ProductDataService.save(item).then(() => this.props.history.push('/products'));\n  }\n\n  validate(values) {\n    let errors = {};\n\n    if (!values.name) {\n      errors.name = 'required field !!!';\n    } else if (values.name.length < 5) {\n      errors.userName = 'Enter atleast 5 Characters';\n    }\n\n    return errors;\n  }\n\n  cancelForm() {\n    this.props.history.push('/products');\n  }\n\n  render() {\n    let {\n      id,\n      name,\n      description,\n      productType,\n      productTypes,\n      amortizationPercent,\n      categories,\n      subCategory,\n      subCategoryId,\n      subCategories,\n      selectedCategoryId\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [this.state.id > 0 ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3\",\n        children: \" Update Supplier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 38\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3\",\n        children: \" Add New Supplier \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 83\n      }, this), /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: {\n          id,\n          name,\n          description,\n          productType,\n          productTypes,\n          amortizationPercent,\n          subCategory,\n          categories,\n          subCategoryId,\n          subCategories,\n          selectedCategoryId\n        },\n        onSubmit: this.onSubmit,\n        validateOnChange: false,\n        validateOnBlur: false,\n        validate: this.validate,\n        enableReinitialize: true,\n        children: (props, setFieldValue) => /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            className: \"form-control\",\n            type: \"text\",\n            name: \"id\",\n            hidden: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              className: \"form-control w-25\",\n              type: \"text\",\n              name: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"name\",\n              component: \"div\",\n              className: \"alert alert-warning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              className: \"form-control w-25\",\n              type: \"textarea\",\n              name: \"description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"description\",\n              component: \"div\",\n              className: \"alert alert-warning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"product type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 37\n            }, this), productTypes.map(type => /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(Field, {\n                type: \"checkbox\",\n                name: \"productType\",\n                value: type.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 49\n              }, this), \"//onClick=\", this.changeType(type), \" /> type\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 45\n            }, this)), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"productType\",\n              component: \"div\",\n              className: \"alert alert-warning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 33\n          }, this), this.state.productType !== 'MA' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(CustomSelect, {\n                name: \"selectedCategoryId\",\n                className: \"inline inline-1-5\",\n                items: categories,\n                value: subCategory != null ? subCategory.categoryId : '' // onChange={(selected) => this.setState({ selectedCategoryId: selected.value })}\n\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \" selectedCategoryId\",\n                component: \"div\",\n                className: \"alert alert-warning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"sub-category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(CustomSelect, {\n                name: \"subCategory\",\n                className: \"inline inline-1-5\",\n                items: subCategories,\n                value: subCategory != null ? subCategory.id : '',\n                onChange: selected => setFieldValue(\"subCategory\", selected.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \" selectedCategoryId\",\n                component: \"div\",\n                className: \"alert alert-warning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"amortization percent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                className: \"form-control w-50\",\n                type: \"number\",\n                name: \"amortizationPercent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"amortizationPercent\",\n                component: \"div\",\n                className: \"alert alert-warning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-mybtn px-5\",\n            type: \"submit\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-mybtn btn-delete px-5 ml-5\",\n            type: \"button\",\n            onClick: this.cancelForm,\n            children: \"cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ProductComponent;","map":{"version":3,"sources":["D:/Uni-2020/Java/imy-project/inventory-management-system/test-react-app/src/component/ProductComponent.jsx"],"names":["React","Component","Formik","Form","Field","ErrorMessage","ProductDataService","CustomSelect","ProductComponent","constructor","props","changeType","type","setState","productType","state","id","match","params","name","description","productTypes","subCategory","subCategories","categories","selectedCategoryId","amortizationPercent","onSubmit","bind","validate","cancelForm","componentDidMount","retrieve","then","response","data","values","item","targetDate","console","log","save","history","push","errors","length","userName","render","subCategoryId","setFieldValue","map","value","categoryId","selected"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport ProductDataService from '../service/ProductDataService';\r\nimport '../myStyles/Style.css';\r\nimport CustomSelect from './Filters/CustomSelect';\r\n\r\nclass ProductComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            id: this.props.match.params.id,\r\n            name: '',\r\n            description: '',\r\n            productType: '',\r\n            productTypes: [],           \r\n            subCategory: '',          \r\n            subCategories: [],\r\n            categories: [],\r\n            selectedCategoryId:'',\r\n            amortizationPercent: '',\r\n        }\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n        this.validate = this.validate.bind(this)\r\n        this.cancelForm = this.cancelForm.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n       \r\n        ProductDataService.retrieve(this.state.id)\r\n            .then(response => {\r\n                if (this.state.id > 0) {\r\n                    this.setState({\r\n                        name: response.data.name,\r\n                        description: response.data.description,\r\n                        productType: response.data.productType,\r\n                        subCategory: response.data.subCategory,\r\n                        amortizationPercent: response.data.amortizationPercent,\r\n                    })\r\n                }\r\n                this.setState({\r\n                    productTypes: response.data.productTypes,\r\n                    subCategories: response.data.subCategories,\r\n                    categories: response.data.categories,\r\n                });\r\n            })\r\n    }\r\n\r\n    onSubmit(values) {\r\n        let item = {\r\n            id: this.state.id,\r\n            name: values.name,\r\n           \r\n            targetDate: values.targetDate\r\n        }\r\n        console.log('item = ' + item);\r\n       ProductDataService.save(item)\r\n            .then(() => this.props.history.push('/products'))\r\n    }\r\n\r\n    validate(values) {\r\n        let errors = {}\r\n        if (!values.name) {\r\n            errors.name = 'required field !!!'\r\n        } else if (values.name.length < 5) {\r\n            errors.userName = 'Enter atleast 5 Characters'\r\n        }\r\n\r\n       \r\n\r\n        return errors\r\n    }\r\n\r\n    cancelForm() {\r\n        this.props.history.push('/products')\r\n    }\r\n\r\n    changeType = (type) => {\r\n\r\n        this.setState({\r\n            productType:type,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { id, name, description, productType, productTypes, amortizationPercent, categories, subCategory, subCategoryId, subCategories, selectedCategoryId} = this.state\r\n        return (\r\n            <div className=\"container\">\r\n                {this.state.id > 0 ? <h3 className=\"mb-3\"> Update Supplier</h3> : <h3 className=\"mb-3\"> Add New Supplier </h3>}\r\n                <Formik\r\n                    initialValues={{ id, name, description, productType, productTypes, amortizationPercent, subCategory, categories, subCategoryId, subCategories, selectedCategoryId}}\r\n                    onSubmit={this.onSubmit}\r\n                    validateOnChange={false}\r\n                    validateOnBlur={false}\r\n                    validate={this.validate}\r\n                    enableReinitialize={true}\r\n                >\r\n                    {\r\n                        (props, setFieldValue) => (\r\n                            <Form>\r\n                                <Field className=\"form-control\" type=\"text\" name=\"id\" hidden />\r\n                                <fieldset className=\"form-group\">\r\n                                    <label>name</label>\r\n                                    <Field className=\"form-control w-25\" type=\"text\" name=\"name\" />\r\n                                    <ErrorMessage name=\"name\" component=\"div\"\r\n                                        className=\"alert alert-warning\" />\r\n                                </fieldset>\r\n                                <fieldset className=\"form-group\">\r\n                                    <label>description</label>\r\n                                    <Field className=\"form-control w-25\" type=\"textarea\" name=\"description\" />\r\n                                    <ErrorMessage name=\"description\" component=\"div\"\r\n                                        className=\"alert alert-warning\" />\r\n                                </fieldset>\r\n                                <fieldset className=\"form-group\">\r\n                                    <label>product type</label>\r\n                                    {\r\n                                        productTypes.map((type) =>\r\n                                            <label>\r\n                                                <Field type=\"checkbox\" name=\"productType\" value={type.value} />//onClick={this.changeType(type)} />\r\n                                                type\r\n                                    </label>)\r\n                                    }\r\n                                   \r\n                                    <ErrorMessage name=\"productType\" component=\"div\"\r\n                                        className=\"alert alert-warning\" />\r\n                                </fieldset>\r\n                                {this.state.productType !== 'MA' &&\r\n                                    <div>\r\n                                    <fieldset className=\"form-group\">\r\n                                        <label>category</label>\r\n                                        <CustomSelect\r\n                                            name=\"selectedCategoryId\"\r\n                                        className={\"inline inline-1-5\"}\r\n                                        items={categories}\r\n                                        value={subCategory != null ? subCategory.categoryId : ''}\r\n                                       // onChange={(selected) => this.setState({ selectedCategoryId: selected.value })}\r\n                                        />\r\n                                        <ErrorMessage name=\" selectedCategoryId\" component=\"div\"\r\n                                            className=\"alert alert-warning\" />\r\n                                    </fieldset>\r\n                                    <fieldset className=\"form-group\">\r\n                                        <label>sub-category</label>\r\n                                        <CustomSelect\r\n                                            name=\"subCategory\"\r\n                                            className={\"inline inline-1-5\"}\r\n                                            items={subCategories}\r\n                                            value={subCategory != null ? subCategory.id : ''}\r\n                                            onChange={(selected) => setFieldValue(\"subCategory\", selected.value)}\r\n                                        />\r\n                                        <ErrorMessage name=\" selectedCategoryId\" component=\"div\"\r\n                                            className=\"alert alert-warning\" />\r\n                                    </fieldset>\r\n                                    <fieldset className=\"form-group\">\r\n                                        <label>amortization percent</label>\r\n                                    <Field className=\"form-control w-50\" type=\"number\" name=\"amortizationPercent\" />\r\n                                    <ErrorMessage name=\"amortizationPercent\" component=\"div\"\r\n                                            className=\"alert alert-warning\" />\r\n                                    </fieldset>\r\n                                </div>\r\n                                }\r\n                                <button className=\"btn btn-mybtn px-5\" type=\"submit\">Save</button>\r\n                                <button className=\"btn btn-mybtn btn-delete px-5 ml-5\" type=\"button\" onClick={this.cancelForm}>cancel</button>\r\n                            </Form>\r\n                        )\r\n                    }\r\n                </Formik>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProductComponent"]},"metadata":{},"sourceType":"module"}