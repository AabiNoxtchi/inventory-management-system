{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Uni-2020\\\\Java\\\\imy-project\\\\inventory-management-system\\\\test-react-app\\\\src\\\\component\\\\UserProfileInnerComponent.jsx\";\nimport React, { Component } from 'react';\nimport ProductDetailDataService from '../service/ProductDetailDataService';\nimport UserProfileDataService from '../service/UserProfileDataService';\nimport '../myStyles/Style.css';\nimport DatePicker from \"react-datepicker\";\nimport CustomSelect from './Filters/CustomSelect';\nimport ProductDetailFilter from './Filters/ProductDetailFilter';\nimport Function from './Shared/Function';\n\nclass UserProfileInnerComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.saveUpdated = () => {\n      console.log(\"in save updated\");\n      let pdlist = this.state.selectedPds;\n      let show = this.state.profileShow;\n      let withUser = this.state.withUser;\n      let item = show.profile;\n      let x = this.state.profileShow.x;\n      let original = x != null ? this.state.items[x] : null; // item.inventoryNumber = item.inventoryNumber ? item.inventoryNumber.trim() : item.inventoryNumber;\n      // let previousItem = x!=null&&x!=100 ? this.state.items[x] : null;\n      // console.log(\"validate item = \" + JSON.stringify(item));\n      //console.log(\"(x==null && pdlist.length < 1)  = \" + (x == null && pdlist.length < 1));\n      //console.log(\"(!item.inventoryNumber || !item.givenAt) = \" + (!item.inventoryNumber || !item.givenAt));\n      // console.log(\"(x==null && pdlist.length < 1)  = \" + (x == null && pdlist.length < 1));\n\n      if (x == null && withUser && pdlist.length < 1) {\n        show.error = 'must at least select 1 inventory !!!';\n        this.setState({\n          profileShow: show\n        });\n        console.log(\"error\");\n      } else if (!item.userId || item.userId == 'undefined') {\n        show.error = 'user not selected !!!';\n        this.setState({\n          profileShow: show\n        });\n      } else if (x == null && !withUser && (!item.inventoryNumber || item.inventoryNumber == \"undefined\" || item.inventoryNumber.trim().length < 1)) {\n        show.error = \"inventory not selected !!!\"; //\"all fields are required !!!\"\n\n        this.setState({\n          profileShow: show\n        });\n      } else if (!withUser && x != null && original == null) {\n        show.error = \"original item not found !!!\"; //\"all fields are required !!!\"\n\n        this.setState({\n          profileShow: show\n        });\n      } else if (!withUser && x != null && original.userId == item.userId && original.productDetailId == item.productDetailId) {\n        show.error = \"item hasn't changed !!!\"; //\"all fields are required !!!\"\n\n        this.setState({\n          profileShow: show\n        });\n      }\n      /* else if (x != null && (!item.inventoryNumber || !item.givenAt)) {            \r\n               show.error = \"all fields are required !!!\"\r\n               this.setState({ profileShow: show })\r\n       }*/\n\n      /* else if (item.returnedAt != null || (item.givenAt!=null &&!item.givenAt.isDateEqual(new Date))) {\r\n           show.error = \"time can't be changed !!!\"\r\n           this.setState({ profileShow: show })\r\n       }*/\n\n      /* else if (previousItem != null && (\r\n               item.productDetailId == previousItem.productDetailId && this.isDateEqual(item.givenAt, previousItem.givenAt) && (\r\n                   (item.returnedAt == null && previousItem.returnedAt == null) || this.isDateEqual(item.returnedAt, previousItem.returnedAt))\r\n               && item.userId == previousItem.userId)) {\r\n               show.error = \"item hasn't changed !!!\";\r\n               this.setState({ profileShow: show });\r\n               console.log(\"error in comparing items\");           \r\n       } */\n      else {\n          //  console.log(\"comparison pass\")\n          let date = item.givenAt && new Date(item.givenAt) || new Date(); // let g = new Date();\n\n          date.setHours(date.getHours() - date.getTimezoneOffset() / 60); // console.log(\"g after turn = \" + g);\n          //  console.log(\"date = \" + date);\n          //  console.log(\"item.givenAt = \" + item.givenAt);\n          //console.log(\"typeof date \" + (typeof date));\n          //  date = date.toISOString();\n          //console.log(\"date = \" + date);\n          //  date = date.substring(0, date.indexOf('T'))\n          // console.log(\"date = \" + date);\n\n          item.givenAt = date; //????????????\n\n          if (x == null && withUser) {\n            let ids = [];\n            pdlist.map(pd => ids.push(pd.value));\n            item.productDetailIds = ids; // console.log(\"date2 = \" + item.givenAt);\n          }\n\n          console.log(\"sending item = \" + JSON.stringify(item));\n          UserProfileDataService.save(item).then(response => {\n            console.log(\"response = \" + response.data);\n            this.props.updateClicked();\n            this.props.refresh();\n            this.props.setMessage(\"msg\"); //this.setState({ message: this.state.selectedUserId != null ? 'product given successfully ' : 'product returned successfully ' })\n            //this.refresh();\n          }).catch(error => {\n            /*let msg = error.response && typeof error.response.data == 'string' ? error.response.data :\r\n                error.response.data.message ? error.response.data.message : error;*/\n            let msg = Function.getErrorMsg(error); // console.log(\"error = \" + error);\n            // console.log(\"error.response = \" + error.response);\n\n            console.log(\"json error = \" + JSON.stringify(error.response));\n            show.error = 'error : ' + msg;\n            this.showError(show);\n          });\n        }\n    };\n\n    this.onProductChange = selected => {\n      // console.log(\"selected.value = \" + selected.value);\n      this.getNewSearch('productId', selected.value); // let search = this.getNewSearch('productId', selected.value);\n      //this.refresh(search)\n    };\n\n    this.getNewSearch = (name, value) => {\n      let search = this.state.lastSearch;\n      let newPath = ``;\n\n      if (search.length > 1) {\n        while (search.charAt(0) === '?') {\n          search = search.substring(1);\n        }\n\n        let searchItems = search.split('&');\n\n        for (let i = 0; i < searchItems.length; i++) {\n          if (!searchItems[i].startsWith(name)) newPath += searchItems[i] + '&';\n        }\n      }\n\n      if (value && value != 'undefined') newPath += name + '=' + value;else {\n        if (name == 'notIn') {\n          let ids = '';\n          this.state.selectedPds.map(pd => ids += pd.value + ',');\n          ids = ids.substring(0, ids.length - 1);\n          newPath += name + '=' + ids;\n        } else newPath = newPath.substring(0, newPath.length - 1);\n      } //console.log('newPath =' + newPath);\n\n      newPath = '?' + newPath;\n      this.setState({\n        lastSearch: newPath\n      });\n      this.refresh(newPath); // return newPath;\n    };\n\n    this.oninventoryAdd = selected => {\n      // console.log(\"in add inventory\")\n      if (selected == null) return;\n      if (selected.name == '') return;\n\n      if (this.state.profileShow.x == null && this.state.withUser) {\n        let selectedPds = this.state.selectedPds;\n        selectedPds.push({\n          name: selected.label,\n          value: selected.value\n        });\n        this.setState({\n          selectedPds: selectedPds\n        });\n        this.getNewSearch('notIn');\n      } else {\n        //  selectedPds[0] = { name: selected.label, value: selected.value }\n        let up = this.state.profileShow;\n        up.profile.inventoryNumber = selected.label;\n        up.profile.productDetailId = selected.value;\n        this.setState({\n          profileShow: up,\n          // selectedPds: selectedPds,\n          changedPd: true\n        });\n      } // console.log(\"this.state.profile = \" + JSON.stringify(this.state.profileShow));\n\n    };\n\n    this.onFilterDateChange = date => {\n      // console.log(\"2 = \" + date);\n      // if (date != null) console.log(\"type of 2\" + typeof (date));\n      // console.log(\"this.state.selectedDate 1 = \" + this.state.selectedDate);\n      //if (this.state.selectedDate != null) console.log(\"type of 1\" + typeof(this.state.selectedDate));\n      if (this.isDateEqual(this.state.selectedDate, date)) return;\n\n      if (date) {\n        date = date.toISOString();\n        date = date.substring(0, date.indexOf('T'));\n      }\n      /*date = new Intl.DateTimeFormat(\"en-GB\", {\r\n          month: \"numeric\",\r\n          day: \"2-digit\",\r\n          year: \"numeric\",\r\n      }).format(new Date(date));*/\n      //  console.log(\"date form = \" + date);\n\n\n      this.setState({\n        selectedDate: date\n      });\n      this.getNewSearch('dateCreatedAfter', date); // let search = \n    };\n\n    this.onDateGivenChange = date => {\n      // console.log(\"on date change date = \" + date);\n      let profileShow = this.state.profileShow;\n      profileShow.profile.givenAt = date;\n      this.setState({\n        profileShow: profileShow\n      });\n    };\n\n    this.onDateReturnedChange = date => {\n      // console.log(\"date = \" + date);\n      let profileShow = this.state.profileShow;\n      profileShow.profile.returnedAt = date;\n      this.setState({\n        profileShow: profileShow\n      });\n    };\n\n    this.isDateEqual = (date1, date2) => {\n      //date2 string\n      // date1 string or date \n      // if (!date1) return false;    //???????????????????????\n\n      /* console.log(\"date1 = \" + date1);\r\n       console.log(\"typeof date1 = \" + typeof date1);\r\n       console.log(\" date2 = \" + date2);\r\n       console.log(\"typeof date2 = \" + typeof date2);*/\n      if (date1 == date2) return true;else {\n        date1 = new Date(date1);\n        date2 = new Date(date2); //console.log(\"date1 = \" + date1);\n        //console.log(\" date2 = \" + date2);\n\n        if (date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate()) return true;\n      }\n      return false;\n    };\n\n    this.state = {\n      profileShow: props.profileShow,\n      items: props.items,\n      message: props.message,\n      filter: props.filter,\n      filteredNumbers: [],\n      // search: '?isDiscarded=false&isAvailable=true',\n      lastSearch: '?freeInventory=true&isDiscarded=false&isAvailable=true',\n      //props.profileShow.x == null ? '?isDiscarded=false&isAvailable=true&freeInventory=true'\n      // : '?isDiscarded=false&isAvailable=true&notIn=' + props.profileShow.profile.productDetailId,\n      selectedDate: null,\n      filteredcount: '',\n      selectedPds: [],\n      changedPd: null,\n      ChangedUser: null,\n      //allInventory:null,\n      freeInventory: true,\n      notDiscarded: true,\n      available: true,\n      withUser: !(props.filter.userId == null || props.filter.userId == undefined || props.filter.userId == 'undefined') //from user account or from main page\n\n    };\n    this.refresh = this.refresh.bind(this);\n  }\n\n  componentDidMount() {\n    /* let search = this.state.lastSearch;\r\n     search = '?freeInventory=true&isDiscarded=false&isAvailable=true';\r\n     search = (this.state.profileShow.x == null && this.state.profileShow.profile.productDetailId) ?\r\n         search+'&notIn=' + this.state.profileShow.profile.productDetailId\r\n         : search;*/\n    //console.log(\"search in mount = \" + search);\n\n    /* let show = this.state.profileShow;\r\n     if (this.state.profileShow.x == null && this.state.filter.userId == null) {            \r\n         //show.x = 100;\r\n         show.profile.givenAt = new Date();\r\n     }\r\n     \r\n     \r\n     this.setState({\r\n         profileShow: show,\r\n        // lastSearch: search\r\n     })*/\n    //this.refresh(search)\n    //console.log(\"item1 = \" + JSON.stringify(this.state.profileShow))\n    // console.log(\"this.state.profileShow.x == null)= \" + (this.state.profileShow.x == null))\n\n    /* console.log(\"component did mount = \" );\r\n     console.log(\"x = \" + this.state.profileShow.x);\r\n     console.log(\"this.state.profileShow.x == null)= \" + (this.state.profileShow.x == null));\r\n     console.log(\"item1 = \" + JSON.stringify(this.state.profileShow))*/\n\n    /*  if (this.state.profileShow.x == null) {\r\n          let selected = this.getFilteredInventoty();\r\n          // if (selected) {\r\n          let show = this.state.profileShow;\r\n          show.profile.inventoryNumber = selected ? selected.name : '';\r\n          show.profile.productDetailId = selected ? selected.value : null;\r\n          this.setState({ profileShow: show })\r\n          // }\r\n      }*/\n    // console.log(\"item2 = \" + JSON.stringify(this.state.profileShow))\n\n    /****************************  this.refresh(this.state.lastSearch);\r\n          if (this.state.profileShow.x == null && this.state.filter.productDetailId) {\r\n              let selected = this.getFilteredInventoty();\r\n              // if (selected) {\r\n              //  if (this.state.filteredNumbers.find(n=>n.value == selected.))\r\n              console.log(\"selected = \" + selected);\r\n              if (selected = null || selected == 'undefined') return;\r\n              let show = this.state.profileShow;\r\n              show.profile.inventoryNumber = selected ? selected.name : '';\r\n              show.profile.productDetailId = selected ? selected.value : null;\r\n              this.setState({ profileShow: show })\r\n              // }\r\n          }*****************************************/\n    if (this.state.profileShow.x) return;\n    ProductDetailDataService.retrieveAllNumbers(this.state.lastSearch).then(response => {\n      // console.log(\"got response\");\n      console.log(\"this.state.filter.userId = \" + this.state.filter.userId);\n      console.log(\"this.state.withuser = \" + this.state.withUser);\n      this.setState({\n        filteredNumbers: response.data,\n        filteredcount: response.data.length\n      });\n\n      if (this.state.profileShow.x == null && this.state.filter.productDetailId) {\n        let selected = this.getFilteredInventoty(); // if (selected) {\n        //  if (this.state.filteredNumbers.find(n=>n.value == selected.))\n\n        console.log(\"selected = \" + JSON.stringify(selected));\n        if (selected == null || selected == 'undefined') return;\n        let show = this.state.profileShow;\n        show.profile.inventoryNumber = selected ? selected.name : '';\n        show.profile.productDetailId = selected ? selected.value : null;\n        this.setState({\n          profileShow: show\n        }); // }\n      } // console.log(\"data length = \" + this.state.filteredNumbers.length);\n\n    }).catch(error => console.log(\"error = \" + error));\n    /* if (this.state.profileShow.x == null && this.state.filter.productDetailId) {\r\n         let selected = this.getFilteredInventoty();\r\n         // if (selected) {\r\n       //  if (this.state.filteredNumbers.find(n=>n.value == selected.))\r\n         console.log(\"selected = \" + selected);\r\n         if (selected = null || selected == 'undefined') return;\r\n         let show = this.state.profileShow;\r\n         show.profile.inventoryNumber = selected ? selected.name : '';\r\n         show.profile.productDetailId = selected ? selected.value : null;\r\n         this.setState({ profileShow: show })\r\n         // }\r\n     }*/\n  }\n\n  getFilteredInventoty() {\n    //original\n    let filteredInventory = this.state.filter.productDetailId && this.state.filteredNumbers.length > 0 ? // this.state.filter.inventoryNumbers.find(n => n.value == this.state.filter.productDetailId &&\n    // ((this.state.filteredNumbers.find(f => f.value == n.value)) != 'undefined'))\n    this.state.filteredNumbers.find(f => f.value == this.state.filter.productDetailId) : null;\n    return filteredInventory;\n  }\n\n  getFilteredUser() {\n    //original\n    let x = this.state.profileShow.x;\n    let filteredUser = x != null ? {\n      \"value\": this.state.items[x].userId,\n      \"label\": this.state.items[x].userName\n    } : this.state.filter.userId ? this.state.filter.users.find(n => n.value == this.state.filter.userId) : null;\n    return filteredUser;\n  }\n\n  refresh(search) {\n    // console.log(\"search = \" + search);\n    ProductDetailDataService.retrieveAllNumbers(search).then(response => {\n      console.log(\"got response\");\n      this.setState({\n        filteredNumbers: response.data,\n        filteredcount: response.data.length\n      }); // console.log(\"data length = \" + this.state.filteredNumbers.length);\n    }).catch(error => console.log(\"error = \" + error));\n  }\n\n  showError(show) {\n    let time = 10;\n    this.setState({\n      profileShow: show\n    });\n    this.myInterval = setInterval(() => {\n      time = time - 1;\n\n      if (time == 0) {\n        show.error = null;\n        this.setState(({\n          show\n        }) => ({\n          profileShow: show\n        }));\n        clearInterval(this.myInterval);\n      }\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.myInterval);\n  }\n\n  onFilterfreeInventoryChange(value) {\n    let freeInventory = this.state.freeInventory;\n    freeInventory = !freeInventory;\n    this.setState({\n      freeInventory: freeInventory\n    });\n    this.getNewSearch('freeInventory', value.target.value);\n  }\n\n  onFilteravailableChange(value) {\n    let available = this.state.available; //available = !available;\n\n    this.setState({\n      available: !available\n    });\n    this.getNewSearch('isAvailable', value.target.value);\n  }\n\n  onFilternotDiscardedChange(value) {\n    let discarded = this.state.notDiscarded; //available = !available;\n\n    this.setState({\n      notDiscarded: !discarded\n    });\n    this.getNewSearch('isDiscarded', value.target.value);\n  }\n\n  onUserChange(selected) {\n    console.log(\"label = \" + selected.label + \" value = \" + selected.value);\n    let up = this.state.profileShow;\n    up.profile.userName = selected.label;\n    up.profile.userId = selected.value;\n    this.setState({\n      profileShow: up,\n      // selectedPds: selectedPds,\n      changedUser: true\n    });\n  }\n\n  returnOriginalPd() {\n    let up = this.state.profileShow; //if (up.x == null) return;\n\n    let original = this.getFilteredInventoty(); //this.state.items[up.x];\n\n    up.profile.inventoryNumber = original == null ? '' : original.name;\n    up.profile.productDetailId = original == null ? null : original.value;\n    this.setState({\n      profileShow: up,\n      changedPd: null\n    });\n  }\n\n  returnOriginalUser() {\n    let up = this.state.profileShow; // if (up.x == null) return;\n\n    let original = this.getFilteredUser(); //this.state.items[up.x];\n\n    up.profile.userId = original == null ? null : original.value;\n    up.profile.userName = original == null ? '...' : original.label;\n    this.setState({\n      profileShow: up,\n      changedUser: null\n    });\n  }\n\n  oninventoryRemove(i) {\n    // console.log(\"in removeiventory\")\n    let selectedPds = this.state.selectedPds;\n    selectedPds.splice(i, 1);\n    this.setState({\n      selectedPds: selectedPds\n    });\n    this.getNewSearch('notIn');\n  }\n\n  render() {\n    console.log(\"this.state.profileShow.x = \" + this.state.profileShow.x);\n    console.log(\"this.state.profileShow.x == null = \" + (this.state.profileShow.x == null));\n    let height = this.state.profileShow.x == null ? \"70%\" : \"53%\";\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [console.log(\"rendering\"), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.state.profileShow.show ? \"overlay d-block\" : \"d-none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.state.profileShow.show ? \"modal d-block \" : \"d-none\",\n        style: {\n          width: \"80%\",\n          height: height,\n          overflow: \"visible\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"close pt-2\",\n            onClick: () => this.props.updateClicked(null),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"inline pt-3 pl-3 pb-1\",\n            children: [this.state.profileShow.x != null ? 'Update' : 'Add', \" profile \\u2003(\", this.state.profileShow.profile.userName, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 25\n          }, this), this.state.profileShow.x == null && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inline pull-right mt-5 mr-5 move-top top-c\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mr-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"m-0\",\n                  type: \"radio\",\n                  value: !this.state.freeInventory,\n                  checked: this.state.freeInventory //  onClick={() => { }}\n                  // (value) => {this.onFilterfreeInventoryChange(value) }} \n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: \"80%\",\n                    paddingLeft: \"3px\",\n                    marginRight: \"10px\"\n                  },\n                  children: \"free inventory\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"m-0\",\n                  type: \"radio\",\n                  value: !this.state.available,\n                  checked: this.state.available // onClick={\n                  // (value) => { this.onFilteravailableChange(value) }} \n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: \"80%\",\n                    paddingLeft: \"3px\",\n                    marginRight: \"10px\"\n                  },\n                  children: \"available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"mr-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"m-0\",\n                  type: \"radio\",\n                  value: !this.state.notDiscarded,\n                  checked: this.state.notDiscarded // onClick={\n                  // (value) => { this.onFilternotDiscardedChange(value) }}\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: \"80%\",\n                    paddingLeft: \"3px\",\n                    marginRight: \"10px\"\n                  },\n                  children: \"not discarded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 21\n        }, this), this.state.profileShow.x == null && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-0 inline w100\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border pt-1 b-r r-c foo\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"move-top top-l\",\n              style: {\n                fontSize: \"80%\"\n              },\n              children: \"filter for inventory select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline w40 pr-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"product : \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(CustomSelect, {\n                className: \"inline w100 ml-0\",\n                items: this.state.filter.productNames,\n                onChange: selected => this.onProductChange(selected)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline w20\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"\",\n                children: \"created after :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inline w100\",\n                children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                  className: \"form-control w100 p-2 ml-0\",\n                  dateFormat: \"dd MMMM yyyy\",\n                  locale: \"en-GB\",\n                  isClearable: true,\n                  placeholderText: \"...\",\n                  selected: this.state.selectedDate && new Date(this.state.selectedDate) || null,\n                  onChange: selected => {\n                    this.onFilterDateChange(selected);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"move-top top-r\",\n              style: {\n                fontSize: \"80%\"\n              },\n              children: [\" \", this.state.filteredcount, \" items found\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline w40\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"inline\",\n                children: \"select inventory :\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(CustomSelect, {\n                className: \"inline w100 ml-0\",\n                items: this.state.filteredNumbers,\n                onChange: selected => this.oninventoryAdd(selected)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 25\n        }, this), this.state.profileShow.error && this.state.profileShow.error.length > 1 &&\n        /*#__PURE__*/\n        // error div\n        _jsxDEV(\"div\", {\n          className: \"alert alert-warning d-flex mx-1\",\n          children: [this.state.profileShow.error, /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa fa-close ml-auto pr-3 pt-1\",\n            onClick: () => {\n              let show = this.state.profileShow;\n              show.error = '';\n              this.setState({\n                profileShow: show\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: this.state.profileShow.error && this.state.profileShow.error.length > 1 ? \"d-flex align-items-top flex-wrap\" : \"mt-5 d-flex align-items-top flex-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inline w40 m-0 \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline m-0 pl-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"date given :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                  className: \"form-control inline-2-5 p-2\",\n                  dateFormat: \"dd MMMM yyyy\",\n                  locale: \"en-GB\",\n                  maxDate: this.state.profileShow.x != null && new Date(this.state.profileShow.profile.givenAt) || new Date(),\n                  minDate: this.state.profileShow.x != null && new Date(this.state.profileShow.profile.givenAt) || new Date() //  maxDate={this.state.profileShow.profile.returnedAt && new Date(this.state.profileShow.profile.returnedAt) || new Date()}\n\n                  /*isClearable\r\n                  placeholderText=\"select Date!\"*/\n                  // selected={(this.state.profileShow.profile.givenAt && new Date(this.state.profileShow.profile.givenAt)) ||\n                  //   new Date()}\n                  ,\n                  selected: this.state.profileShow.x != null && new Date(this.state.profileShow.profile.givenAt) || new Date(),\n                  onChange: date => {\n                    this.onDateGivenChange(date); //console.log(\"date changed = \" + date);                               \n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 38\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline m-0 px-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"date returned :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                  className: \"form-control inline-2-5 p-2\",\n                  dateFormat: \"dd MMMM yyyy\",\n                  locale: \"en-GB\" //  minDate={(this.state.profileShow.profile.givenAt && new Date(this.state.profileShow.profile.givenAt)) ||\n                  //    !this.state.profileShow.profile.id && new Date()}\n                  // maxDate={new Date()}\n\n                  /* disabled={(this.state.profileShow.profile.id && this.state.profileShow.profile.id > 0 &&\r\n                       this.state.profileShow.profile.returnedAt) ||\r\n                       (!this.state.profileShow.profile.id && this.state.profileShow.x == 100 ) ? '' : 'disabled'}*/\n                  ,\n                  disabled: true,\n                  selected: this.state.profileShow.x != null && new Date(this.state.profileShow.profile.returnedAt) || null // null}\n\n                  /*isClearable\r\n                  placeholderText=\"select Date!\"*/\n                  // selected={(this.state.profileShow.profile.returnedAt && new Date(this.state.profileShow.profile.returnedAt)) || \n                  // null}\n                  // onChange={date => {\n                  // this.onDateReturnedChange(date);\n                  //console.log(\"date changed = \" + date);                               \n                  // }}\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 29\n            }, this), this.state.profileShow.profile.profileDetail != null && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 mt-3 d-flex justify-content-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"created at : \", this.state.profileShow.profile.profileDetail.createdAt]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"modified at : \", this.state.profileShow.profile.profileDetail.modifiedAt]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"owed amount : \", this.state.profileShow.profile.profileDetail.owedAmount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"paid amount : \", this.state.profileShow.profile.profileDetail.paidAmount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"paid plus>\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                min: \"0\",\n                value: this.state.paidplus,\n                onClick: value => this.setState({\n                  paidplus: value.target.value\n                }),\n                type: \"number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 58\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 86\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 mt-3 d-flex justify-content-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-mybtn p-x-5\",\n                onClick: this.saveUpdated,\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-mybtn btn-delete px-5\",\n                onClick: () => this.props.updateClicked(null),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inline w60\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"required-field\",\n              children: \"selected inventory :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 29\n            }, this), this.state.profileShow.x == null && this.state.withUser && this.state.selectedPds && this.state.selectedPds.map((pd, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [i + 1, \" :\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n                value: pd.name,\n                className: \"form-control inline w80 m-0 p-2 pl-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 50\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-mybtn btn-delete m-0 ml-1\",\n                type: \"button\",\n                onClick: () => {\n                  this.oninventoryRemove(i);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-close ml-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 696,\n                  columnNumber: 48\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 37\n            }, this)), (!this.state.withUser || this.state.profileShow.x != null) && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                value: this.state.profileShow.profile.inventoryNumber || '',\n                className: \"form-control inline w90 m-0 p-2 pl-3\" //onChange={() => { this.oninventoryAdd(null) }}\n                // editable={false}\n\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 33\n              }, this), this.state.changedPd && /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-undo ml-1\",\n                onClick: () => {\n                  this.returnOriginalPd();\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 705,\n                columnNumber: 60\n              }, this), this.state.profileShow.x == null && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontSize: \"70%\"\n                },\n                children: \" ps : selecting inventory from filter will change current inventory \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"mt-1 required-field\",\n                children: \"select user :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 712,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(CustomSelect, {\n                className: \"b-r inline w80 m-0 p-0\",\n                items: this.state.filter.userNames,\n                value: this.state.profileShow.profile.userId,\n                onChange: selected => this.onUserChange(selected)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 33\n              }, this), this.state.changedUser && /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-undo ml-1\",\n                onClick: () => {\n                  this.returnOriginalUser();\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 718,\n                columnNumber: 62\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 21\n        }, this), this.state.profileShow.x == null && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: \"80%\"\n          },\n          children: \" ps : changing date will change previous records as well and may cause lose of data \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default UserProfileInnerComponent;","map":{"version":3,"sources":["D:/Uni-2020/Java/imy-project/inventory-management-system/test-react-app/src/component/UserProfileInnerComponent.jsx"],"names":["React","Component","ProductDetailDataService","UserProfileDataService","DatePicker","CustomSelect","ProductDetailFilter","Function","UserProfileInnerComponent","constructor","props","saveUpdated","console","log","pdlist","state","selectedPds","show","profileShow","withUser","item","profile","x","original","items","length","error","setState","userId","inventoryNumber","trim","productDetailId","date","givenAt","Date","setHours","getHours","getTimezoneOffset","ids","map","pd","push","value","productDetailIds","JSON","stringify","save","then","response","data","updateClicked","refresh","setMessage","catch","msg","getErrorMsg","showError","onProductChange","selected","getNewSearch","name","search","lastSearch","newPath","charAt","substring","searchItems","split","i","startsWith","oninventoryAdd","label","up","changedPd","onFilterDateChange","isDateEqual","selectedDate","toISOString","indexOf","onDateGivenChange","onDateReturnedChange","returnedAt","date1","date2","getFullYear","getMonth","getDate","message","filter","filteredNumbers","filteredcount","ChangedUser","freeInventory","notDiscarded","available","undefined","bind","componentDidMount","retrieveAllNumbers","getFilteredInventoty","filteredInventory","find","f","getFilteredUser","filteredUser","userName","users","n","time","myInterval","setInterval","clearInterval","componentWillUnmount","onFilterfreeInventoryChange","target","onFilteravailableChange","onFilternotDiscardedChange","discarded","onUserChange","changedUser","returnOriginalPd","returnOriginalUser","oninventoryRemove","splice","render","height","width","overflow","fontSize","paddingLeft","marginRight","productNames","profileDetail","createdAt","modifiedAt","owedAmount","paidAmount","paidplus","userNames"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ProductDetailDataService from '../service/ProductDetailDataService';\r\nimport UserProfileDataService from '../service/UserProfileDataService'\r\nimport '../myStyles/Style.css';\r\nimport DatePicker from \"react-datepicker\";\r\nimport CustomSelect from './Filters/CustomSelect';\r\nimport ProductDetailFilter from './Filters/ProductDetailFilter';\r\nimport Function from './Shared/Function'\r\n\r\n\r\nclass UserProfileInnerComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state =\r\n            {\r\n                profileShow: props.profileShow,\r\n                items: props.items,\r\n                message: props.message,\r\n                filter: props.filter,\r\n            filteredNumbers: [],\r\n           // search: '?isDiscarded=false&isAvailable=true',\r\n            lastSearch: '?freeInventory=true&isDiscarded=false&isAvailable=true',//props.profileShow.x == null ? '?isDiscarded=false&isAvailable=true&freeInventory=true'\r\n               // : '?isDiscarded=false&isAvailable=true&notIn=' + props.profileShow.profile.productDetailId,\r\n            selectedDate: null,\r\n            filteredcount: '',\r\n            selectedPds: [],\r\n            changedPd: null,\r\n            ChangedUser: null,\r\n            //allInventory:null,\r\n            freeInventory: true,\r\n            notDiscarded: true,\r\n            available: true,\r\n            withUser: !(props.filter.userId == null || props.filter.userId == undefined || props.filter.userId == 'undefined')//from user account or from main page\r\n\r\n            }\r\n        this.refresh = this.refresh.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n       /* let search = this.state.lastSearch;\r\n        search = '?freeInventory=true&isDiscarded=false&isAvailable=true';\r\n        search = (this.state.profileShow.x == null && this.state.profileShow.profile.productDetailId) ?\r\n            search+'&notIn=' + this.state.profileShow.profile.productDetailId\r\n            : search;*/\r\n        //console.log(\"search in mount = \" + search);\r\n       /* let show = this.state.profileShow;\r\n        if (this.state.profileShow.x == null && this.state.filter.userId == null) {            \r\n            //show.x = 100;\r\n            show.profile.givenAt = new Date();\r\n        }\r\n        \r\n        \r\n        this.setState({\r\n            profileShow: show,\r\n           // lastSearch: search\r\n        })*/\r\n        //this.refresh(search)\r\n        //console.log(\"item1 = \" + JSON.stringify(this.state.profileShow))\r\n        // console.log(\"this.state.profileShow.x == null)= \" + (this.state.profileShow.x == null))\r\n       /* console.log(\"component did mount = \" );\r\n        console.log(\"x = \" + this.state.profileShow.x);\r\n        console.log(\"this.state.profileShow.x == null)= \" + (this.state.profileShow.x == null));\r\n        console.log(\"item1 = \" + JSON.stringify(this.state.profileShow))*/\r\n      /*  if (this.state.profileShow.x == null) {\r\n            let selected = this.getFilteredInventoty();\r\n            // if (selected) {\r\n            let show = this.state.profileShow;\r\n            show.profile.inventoryNumber = selected ? selected.name : '';\r\n            show.profile.productDetailId = selected ? selected.value : null;\r\n            this.setState({ profileShow: show })\r\n            // }\r\n        }*/\r\n       // console.log(\"item2 = \" + JSON.stringify(this.state.profileShow))\r\n      /****************************  this.refresh(this.state.lastSearch);\r\n            if (this.state.profileShow.x == null && this.state.filter.productDetailId) {\r\n                let selected = this.getFilteredInventoty();\r\n                // if (selected) {\r\n                //  if (this.state.filteredNumbers.find(n=>n.value == selected.))\r\n                console.log(\"selected = \" + selected);\r\n                if (selected = null || selected == 'undefined') return;\r\n                let show = this.state.profileShow;\r\n                show.profile.inventoryNumber = selected ? selected.name : '';\r\n                show.profile.productDetailId = selected ? selected.value : null;\r\n                this.setState({ profileShow: show })\r\n                // }\r\n            }*****************************************/\r\n        if (this.state.profileShow.x) return;\r\n        ProductDetailDataService.retrieveAllNumbers(this.state.lastSearch)\r\n            .then(response => {\r\n               // console.log(\"got response\");\r\n                console.log(\"this.state.filter.userId = \" + this.state.filter.userId);\r\n                console.log(\"this.state.withuser = \" + this.state.withUser)\r\n\r\n               \r\n                this.setState({\r\n                    filteredNumbers: response.data,\r\n                    filteredcount: response.data.length\r\n                })\r\n\r\n                if (this.state.profileShow.x == null && this.state.filter.productDetailId) {\r\n                    let selected = this.getFilteredInventoty();\r\n                    // if (selected) {\r\n                    //  if (this.state.filteredNumbers.find(n=>n.value == selected.))\r\n                    console.log(\"selected = \" + JSON.stringify(selected));\r\n                    if (selected == null || selected == 'undefined') return;\r\n                    let show = this.state.profileShow;\r\n                    show.profile.inventoryNumber = selected ? selected.name : '';\r\n                    show.profile.productDetailId = selected ? selected.value : null;\r\n                    this.setState({ profileShow: show })\r\n                    // }\r\n                }\r\n\r\n\r\n                // console.log(\"data length = \" + this.state.filteredNumbers.length);\r\n            }).catch(error =>\r\n                console.log(\"error = \" + error)\r\n            )\r\n\r\n       \r\n\r\n       /* if (this.state.profileShow.x == null && this.state.filter.productDetailId) {\r\n            let selected = this.getFilteredInventoty();\r\n            // if (selected) {\r\n          //  if (this.state.filteredNumbers.find(n=>n.value == selected.))\r\n            console.log(\"selected = \" + selected);\r\n            if (selected = null || selected == 'undefined') return;\r\n            let show = this.state.profileShow;\r\n            show.profile.inventoryNumber = selected ? selected.name : '';\r\n            show.profile.productDetailId = selected ? selected.value : null;\r\n            this.setState({ profileShow: show })\r\n            // }\r\n        }*/\r\n\r\n\r\n    }\r\n\r\n    getFilteredInventoty() {//original\r\n        let filteredInventory = (this.state.filter.productDetailId && this.state.filteredNumbers.length>0) ?\r\n           // this.state.filter.inventoryNumbers.find(n => n.value == this.state.filter.productDetailId &&\r\n           // ((this.state.filteredNumbers.find(f => f.value == n.value)) != 'undefined'))\r\n            this.state.filteredNumbers.find(f => f.value == this.state.filter.productDetailId)\r\n            : null;\r\n        return filteredInventory\r\n    }\r\n\r\n    getFilteredUser() {//original\r\n        let x = this.state.profileShow.x;\r\n        let filteredUser = x != null ?\r\n            { \"value\": this.state.items[x].userId, \"label\": this.state.items[x].userName }\r\n            : (this.state.filter.userId) ? this.state.filter.users.find(n => n.value == this.state.filter.userId)\r\n            : null;\r\n        return filteredUser\r\n    }\r\n\r\n    refresh(search) {\r\n       // console.log(\"search = \" + search);\r\n        ProductDetailDataService.retrieveAllNumbers(search)\r\n            .then(response => {\r\n                console.log(\"got response\");\r\n                this.setState({\r\n                    filteredNumbers: response.data,\r\n                    filteredcount: response.data.length\r\n                })\r\n               // console.log(\"data length = \" + this.state.filteredNumbers.length);\r\n            }).catch(error =>\r\n                console.log(\"error = \" + error)\r\n                )\r\n    }\r\n\r\n    saveUpdated = () => {\r\n        console.log(\"in save updated\");\r\n        let pdlist = this.state.selectedPds;\r\n        let show = this.state.profileShow;\r\n        let withUser = this.state.withUser;\r\n        let item = show.profile;\r\n        let x = this.state.profileShow.x;\r\n        let original = x != null ? this.state.items[x] : null;\r\n       // item.inventoryNumber = item.inventoryNumber ? item.inventoryNumber.trim() : item.inventoryNumber;\r\n       // let previousItem = x!=null&&x!=100 ? this.state.items[x] : null;\r\n       // console.log(\"validate item = \" + JSON.stringify(item));\r\n        //console.log(\"(x==null && pdlist.length < 1)  = \" + (x == null && pdlist.length < 1));\r\n        //console.log(\"(!item.inventoryNumber || !item.givenAt) = \" + (!item.inventoryNumber || !item.givenAt));\r\n       // console.log(\"(x==null && pdlist.length < 1)  = \" + (x == null && pdlist.length < 1));\r\n        if (x==null && withUser && pdlist.length < 1) {\r\n            show.error = 'must at least select 1 inventory !!!'\r\n            this.setState({ profileShow: show })\r\n            console.log(\"error\")\r\n        }\r\n        else if (!item.userId || item.userId == 'undefined') {\r\n            show.error = 'user not selected !!!'\r\n            this.setState({ profileShow: show })\r\n        }\r\n        else if (x == null && !withUser  && (!item.inventoryNumber || item.inventoryNumber == \"undefined\" || item.inventoryNumber.trim().length < 1)) {\r\n            show.error = \"inventory not selected !!!\";//\"all fields are required !!!\"\r\n            this.setState({ profileShow: show })\r\n        }\r\n        else if (!withUser && x != null && original == null) {\r\n            show.error = \"original item not found !!!\";//\"all fields are required !!!\"\r\n            this.setState({ profileShow: show })\r\n        } else if (!withUser && x != null && original.userId == item.userId && original.productDetailId == item.productDetailId) {\r\n            show.error = \"item hasn't changed !!!\";//\"all fields are required !!!\"\r\n            this.setState({ profileShow: show })\r\n        }\r\n       /* else if (x != null && (!item.inventoryNumber || !item.givenAt)) {            \r\n                show.error = \"all fields are required !!!\"\r\n                this.setState({ profileShow: show })\r\n        }*/\r\n       /* else if (item.returnedAt != null || (item.givenAt!=null &&!item.givenAt.isDateEqual(new Date))) {\r\n            show.error = \"time can't be changed !!!\"\r\n            this.setState({ profileShow: show })\r\n        }*/\r\n       /* else if (previousItem != null && (\r\n                item.productDetailId == previousItem.productDetailId && this.isDateEqual(item.givenAt, previousItem.givenAt) && (\r\n                    (item.returnedAt == null && previousItem.returnedAt == null) || this.isDateEqual(item.returnedAt, previousItem.returnedAt))\r\n                && item.userId == previousItem.userId)) {\r\n                show.error = \"item hasn't changed !!!\";\r\n                this.setState({ profileShow: show });\r\n                console.log(\"error in comparing items\");           \r\n        } */\r\n        else {\r\n          //  console.log(\"comparison pass\")\r\n            let date = (item.givenAt && new Date(item.givenAt)) || new Date();\r\n           // let g = new Date();\r\n            date.setHours(date.getHours() - date.getTimezoneOffset() / 60);\r\n           // console.log(\"g after turn = \" + g);\r\n          //  console.log(\"date = \" + date);\r\n          //  console.log(\"item.givenAt = \" + item.givenAt);\r\n            //console.log(\"typeof date \" + (typeof date));\r\n          //  date = date.toISOString();\r\n            //console.log(\"date = \" + date);\r\n          //  date = date.substring(0, date.indexOf('T'))\r\n            // console.log(\"date = \" + date);\r\n            item.givenAt = date;//????????????\r\n            if (x == null && withUser) {\r\n                let ids = [];                \r\n                pdlist.map(pd => ids.push(pd.value));                \r\n                item.productDetailIds = ids;\r\n               // console.log(\"date2 = \" + item.givenAt);\r\n            }\r\n            console.log(\"sending item = \" + JSON.stringify(item));\r\n            UserProfileDataService.save(item).then(\r\n                response => {\r\n                    console.log(\"response = \" + response.data);\r\n                    this.props.updateClicked();\r\n                    this.props.refresh();\r\n                    this.props.setMessage(\"msg\");\r\n                    //this.setState({ message: this.state.selectedUserId != null ? 'product given successfully ' : 'product returned successfully ' })\r\n\r\n                    //this.refresh();\r\n                }).catch(error => {\r\n                    \r\n                    /*let msg = error.response && typeof error.response.data == 'string' ? error.response.data :\r\n                        error.response.data.message ? error.response.data.message : error;*/\r\n\r\n                    let msg = Function.getErrorMsg(error);\r\n                   // console.log(\"error = \" + error);\r\n                  // console.log(\"error.response = \" + error.response);\r\n                    console.log(\"json error = \" + JSON.stringify(error.response));\r\n                    show.error = 'error : ' + msg;\r\n                    this.showError(show);\r\n                    \r\n                })\r\n        }\r\n\r\n    }\r\n\r\n    showError(show) {\r\n        let time = 10;\r\n        this.setState({ profileShow: show })\r\n        this.myInterval = setInterval(() => {\r\n            time = time - 1;\r\n            if (time == 0) {\r\n                show.error = null;\r\n                this.setState(({ show }) => ({\r\n                    profileShow: show\r\n                }))\r\n                clearInterval(this.myInterval)\r\n            }\r\n        }, 1000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.myInterval)\r\n    }\r\n\r\n    onProductChange = (selected) => {\r\n\r\n       // console.log(\"selected.value = \" + selected.value);\r\n        this.getNewSearch('productId', selected.value);\r\n       // let search = this.getNewSearch('productId', selected.value);\r\n        //this.refresh(search)\r\n\r\n    }\r\n\r\n    onFilterfreeInventoryChange(value) {\r\n        let freeInventory = this.state.freeInventory;\r\n        freeInventory = !freeInventory;\r\n        this.setState({ freeInventory: freeInventory })\r\n\r\n        this.getNewSearch('freeInventory', value.target.value);\r\n    }\r\n\r\n    onFilteravailableChange(value) {\r\n        let available = this.state.available;\r\n        //available = !available;\r\n        this.setState({ available: !available })\r\n\r\n        this.getNewSearch('isAvailable', value.target.value);\r\n\r\n    }\r\n    onFilternotDiscardedChange(value) {\r\n        let discarded = this.state.notDiscarded;\r\n        //available = !available;\r\n        this.setState({ notDiscarded: !discarded })\r\n\r\n        this.getNewSearch('isDiscarded', value.target.value);\r\n    }\r\n\r\n    getNewSearch = (name, value) => {\r\n\r\n        let search = this.state.lastSearch;\r\n        let newPath = ``;\r\n\r\n        if (search.length > 1) {\r\n            while (search.charAt(0) === '?') {\r\n                search = search.substring(1);\r\n            }\r\n            let searchItems = search.split('&');\r\n            for (let i = 0; i < searchItems.length; i++) {\r\n                if (!searchItems[i].startsWith(name))\r\n                    newPath += searchItems[i] + '&'               \r\n            }\r\n        }\r\n\r\n      \r\n        if (value && value != 'undefined')\r\n            newPath += name + '=' + value;\r\n        else {\r\n            if (name == 'notIn') {\r\n                let ids = ''\r\n                this.state.selectedPds.map(pd => ids += pd.value + ',')\r\n                ids = ids.substring(0, ids.length - 1);\r\n                newPath+= name+'='+ids\r\n            }\r\n            else\r\n                newPath = newPath.substring(0, newPath.length - 1);\r\n        }\r\n        //console.log('newPath =' + newPath);\r\n         newPath = '?' + newPath\r\n        this.setState({ lastSearch: newPath })\r\n        this.refresh(newPath)\r\n       // return newPath;\r\n\r\n\r\n    }\r\n    oninventoryAdd = (selected) => {\r\n       // console.log(\"in add inventory\")\r\n        if (selected == null) return;\r\n        if (selected.name == '') return;\r\n        \r\n\r\n        if (this.state.profileShow.x == null && this.state.withUser) {\r\n            let selectedPds = this.state.selectedPds;\r\n            selectedPds.push({ name: selected.label, value: selected.value });\r\n            this.setState({ selectedPds: selectedPds })\r\n            this.getNewSearch('notIn')\r\n        } else {\r\n          //  selectedPds[0] = { name: selected.label, value: selected.value }\r\n            let up = this.state.profileShow;\r\n            up.profile.inventoryNumber = selected.label;\r\n            up.profile.productDetailId = selected.value;\r\n            this.setState({\r\n                profileShow: up,\r\n               // selectedPds: selectedPds,\r\n                changedPd:true\r\n            })\r\n        }\r\n       // console.log(\"this.state.profile = \" + JSON.stringify(this.state.profileShow));\r\n    }\r\n\r\n    onUserChange(selected) {\r\n        console.log(\"label = \" + selected.label + \" value = \" + selected.value);\r\n        let up = this.state.profileShow;\r\n        up.profile.userName = selected.label;\r\n        up.profile.userId = selected.value;\r\n        this.setState({\r\n            profileShow: up,\r\n            // selectedPds: selectedPds,\r\n            changedUser: true\r\n        })\r\n    }\r\n\r\n    returnOriginalPd() {\r\n\r\n        let up = this.state.profileShow;\r\n        //if (up.x == null) return;\r\n\r\n        let original = this.getFilteredInventoty()//this.state.items[up.x];\r\n        up.profile.inventoryNumber = original == null ? '' : original.name;\r\n        up.profile.productDetailId = original == null ? null : original.value;\r\n        this.setState({\r\n            profileShow: up,\r\n            changedPd:null\r\n        })\r\n    }\r\n\r\n    returnOriginalUser() {\r\n        let up = this.state.profileShow;\r\n       // if (up.x == null) return;\r\n\r\n        let original = this.getFilteredUser()//this.state.items[up.x];\r\n\r\n        up.profile.userId = (original == null) ? null : original.value;\r\n        up.profile.userName = (original == null) ? '...' : original.label;\r\n        this.setState({\r\n            profileShow: up,\r\n            changedUser: null\r\n        })\r\n    }\r\n\r\n    oninventoryRemove (i) {\r\n      // console.log(\"in removeiventory\")\r\n        let selectedPds = this.state.selectedPds;\r\n        selectedPds.splice(i, 1);\r\n        this.setState({ selectedPds: selectedPds })\r\n        this.getNewSearch('notIn')\r\n    }\r\n\r\n\r\n    onFilterDateChange = (date) => {\r\n       // console.log(\"2 = \" + date);\r\n       // if (date != null) console.log(\"type of 2\" + typeof (date));\r\n       // console.log(\"this.state.selectedDate 1 = \" + this.state.selectedDate);\r\n        //if (this.state.selectedDate != null) console.log(\"type of 1\" + typeof(this.state.selectedDate));\r\n        \r\n\r\n        if (this.isDateEqual(this.state.selectedDate, date)) return;\r\n        \r\n       \r\n       if(date) {\r\n            date = date.toISOString();\r\n            date = date.substring(0, date.indexOf('T'))\r\n        } \r\n        /*date = new Intl.DateTimeFormat(\"en-GB\", {\r\n            month: \"numeric\",\r\n            day: \"2-digit\",\r\n            year: \"numeric\",\r\n        }).format(new Date(date));*/\r\n\r\n      //  console.log(\"date form = \" + date);\r\n        this.setState({ selectedDate: date });\r\n        this.getNewSearch('dateCreatedAfter', date);\r\n       // let search = \r\n        \r\n        \r\n    }\r\n\r\n    onDateGivenChange = (date) => {\r\n       // console.log(\"on date change date = \" + date);\r\n        let profileShow = this.state.profileShow;\r\n        profileShow.profile.givenAt = date;\r\n        this.setState({\r\n            profileShow: profileShow\r\n        })\r\n    }\r\n    onDateReturnedChange = (date) => {\r\n       // console.log(\"date = \" + date);\r\n        let profileShow = this.state.profileShow;\r\n        profileShow.profile.returnedAt = date;\r\n        this.setState({\r\n            profileShow: profileShow\r\n        })\r\n    }\r\n\r\n    isDateEqual = (date1, date2) => {\r\n        //date2 string\r\n        // date1 string or date \r\n       // if (!date1) return false;    //???????????????????????\r\n       /* console.log(\"date1 = \" + date1);\r\n        console.log(\"typeof date1 = \" + typeof date1);\r\n        console.log(\" date2 = \" + date2);\r\n        console.log(\"typeof date2 = \" + typeof date2);*/\r\n       \r\n        if (date1 == date2) return true       \r\n        else {\r\n            date1 = new Date(date1);\r\n            date2 = new Date(date2);\r\n            //console.log(\"date1 = \" + date1);\r\n            //console.log(\" date2 = \" + date2);\r\n            if (date1.getFullYear() === date2.getFullYear() &&\r\n                date1.getMonth() === date2.getMonth() &&\r\n                date1.getDate() === date2.getDate())\r\n                return true\r\n        }\r\n        return false\r\n    }\r\n    \r\n\r\n    render() {\r\n        console.log(\"this.state.profileShow.x = \" + (this.state.profileShow.x ))\r\n        console.log(\"this.state.profileShow.x == null = \" + (this.state.profileShow.x == null))\r\n        let height = (this.state.profileShow.x == null) ? \"70%\" : \"53%\";\r\n        return (\r\n            <>\r\n                {console.log(\"rendering\")}\r\n                <div className={this.state.profileShow.show ? \"overlay d-block\" : \"d-none\"}></div>\r\n                <div className={this.state.profileShow.show ? \"modal d-block \" : \"d-none\"} style={{ width: \"80%\", height: height , overflow: \"visible\" }} >\r\n\r\n                    <div className=\"\">\r\n                        <span class=\"close pt-2\" onClick={() => this.props.updateClicked(null)}>&times;</span>\r\n                        <h3 className=\"inline pt-3 pl-3 pb-1\">{this.state.profileShow.x != null ? 'Update' : 'Add'} profile &emsp;({this.state.profileShow.profile.userName})</h3>\r\n\r\n                        {this.state.profileShow.x == null && \r\n                            <div className=\"inline pull-right mt-5 mr-5 move-top top-c\">\r\n                                <div className=\"mr-5\">\r\n\r\n                            {/*  <label className=\"\">\r\n                                <input className=\"m-0 \" type=\"radio\" value={!this.state.allInventory}\r\n                                    checked={this.state.allInventory}\r\n                                    onClick={(value) => { }}\r\n                                /><span style={{ fontSize: \"80%\", paddingLeft: \"3px\", marginRight: \"10px\"}}>all inventory</span></label>*/}\r\n                            <label className=\"\">\r\n                                    <input className=\"m-0\" type=\"radio\" value={!this.state.freeInventory}\r\n                                        checked={this.state.freeInventory}\r\n                                      //  onClick={() => { }}\r\n                                    // (value) => {this.onFilterfreeInventoryChange(value) }} \r\n                                    />\r\n                                    <span style={{ fontSize: \"80%\", paddingLeft: \"3px\", marginRight: \"10px\" }}>free inventory</span></label>\r\n                            <label className=\"\">\r\n                                <input className=\"m-0\" type=\"radio\" value={!this.state.available}\r\n                                    checked={this.state.available}\r\n                                   // onClick={\r\n                                    // (value) => { this.onFilteravailableChange(value) }} \r\n                                    />\r\n                                    <span style={{ fontSize: \"80%\", paddingLeft: \"3px\", marginRight: \"10px\" }}>available</span></label>\r\n                \r\n                            <label className=\"mr-5\">\r\n                                <input className=\"m-0\" type=\"radio\" value={!this.state.notDiscarded}\r\n                                    checked={this.state.notDiscarded}\r\n                                   // onClick={\r\n                                    // (value) => { this.onFilternotDiscardedChange(value) }}\r\n                                    />\r\n                                    <span style={{ fontSize: \"80%\", paddingLeft: \"3px\", marginRight: \"10px\" }}>not discarded</span></label>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                        \r\n                    </div>\r\n                   \r\n                   \r\n\r\n                    {this.state.profileShow.x == null &&\r\n                        <div className=\"mt-0 inline w100\">\r\n                            <div className=\"border pt-1 b-r r-c foo\"> {/*********************** small filter **************************/}\r\n                                <label className=\"move-top top-l\" style={{ fontSize: \"80%\" }}>filter for inventory select</label>\r\n\r\n                                <div className=\"inline w40 pr-1\">\r\n                                    <h6>product : </h6>\r\n                                    <CustomSelect\r\n                                        className={\"inline w100 ml-0\"}\r\n                                        items={this.state.filter.productNames}\r\n                                        onChange={(selected) => this.onProductChange(selected)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"inline w20\">\r\n                                    <h6 className=\"\">created after :</h6>\r\n                                    <div className=\"inline w100\">\r\n                                        <DatePicker\r\n                                            className=\"form-control w100 p-2 ml-0\"\r\n                                            dateFormat=\"dd MMMM yyyy\"\r\n                                            locale=\"en-GB\"\r\n                                            isClearable\r\n                                            placeholderText=\"...\"\r\n                                            selected={this.state.selectedDate && new Date(this.state.selectedDate) || null}\r\n                                            onChange={selected => {\r\n                                                this.onFilterDateChange(selected)\r\n                                            }} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <span className=\"move-top top-r\" style={{ fontSize: \"80%\" }}> {this.state.filteredcount} items found</span>\r\n                                <div className=\"inline w40\">\r\n                                    <h6 className=\"inline\">select inventory :&nbsp;</h6>\r\n                                    <CustomSelect\r\n                                        className={\"inline w100 ml-0\"}\r\n                                        items={this.state.filteredNumbers}\r\n                                        onChange={(selected) => this.oninventoryAdd(selected)}\r\n                                    />\r\n                                </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                        }\r\n                  \r\n                    {/*******************    filter over  ******************/}\r\n\r\n                    {this.state.profileShow.error && this.state.profileShow.error.length > 1 && // error div\r\n                        <div className=\"alert alert-warning d-flex mx-1\">{this.state.profileShow.error}\r\n                            <i class=\"fa fa-close ml-auto pr-3 pt-1\"\r\n                                onClick={() => {\r\n                                    let show = this.state.profileShow;\r\n                                    show.error = '';\r\n                                    this.setState({ profileShow: show })\r\n                                }}>\r\n                            </i>\r\n                        </div>\r\n                    }\r\n                    {/***************  form  ********************/}\r\n                    <div className={this.state.profileShow.error && this.state.profileShow.error.length > 1 ?\r\n                        \"d-flex align-items-top flex-wrap\" : \"mt-5 d-flex align-items-top flex-wrap\"}>\r\n\r\n                        <div className=\"inline w40 m-0 \">{/*************** form right **************/}\r\n\r\n                            <div className=\"inline m-0 pl-5\">\r\n                    <h6 >date given :</h6> \r\n                    <div>\r\n                                     <DatePicker\r\n                                        className=\"form-control inline-2-5 p-2\"\r\n                            dateFormat=\"dd MMMM yyyy\"\r\n                                        locale=\"en-GB\"\r\n                                        maxDate={(this.state.profileShow.x!=null && new Date(this.state.profileShow.profile.givenAt)) ||\r\n                                            new Date()}\r\n                                        minDate={(this.state.profileShow.x!=null && new Date(this.state.profileShow.profile.givenAt)) ||\r\n                                            new Date()}\r\n                                      //  maxDate={this.state.profileShow.profile.returnedAt && new Date(this.state.profileShow.profile.returnedAt) || new Date()}\r\n                /*isClearable\r\n                placeholderText=\"select Date!\"*/\r\n                                       // selected={(this.state.profileShow.profile.givenAt && new Date(this.state.profileShow.profile.givenAt)) ||\r\n                                         //   new Date()}\r\n                                        selected={(this.state.profileShow.x!=null && new Date(this.state.profileShow.profile.givenAt)) ||\r\n                                           new Date()}\r\n                            onChange={date => {\r\n                                this.onDateGivenChange(date);\r\n                                //console.log(\"date changed = \" + date);                               \r\n                            }} />\r\n                    </div>\r\n                    </div>\r\n\r\n                            <div className=\"inline m-0 px-5\">\r\n                        <h6 >date returned :</h6>\r\n                        <div>\r\n                            <DatePicker\r\n                                            className=\"form-control inline-2-5 p-2\"\r\n                                            dateFormat=\"dd MMMM yyyy\"\r\n                                            locale=\"en-GB\"\r\n                                            //  minDate={(this.state.profileShow.profile.givenAt && new Date(this.state.profileShow.profile.givenAt)) ||\r\n                                            //    !this.state.profileShow.profile.id && new Date()}\r\n                                            // maxDate={new Date()}\r\n                                            /* disabled={(this.state.profileShow.profile.id && this.state.profileShow.profile.id > 0 &&\r\n                                                 this.state.profileShow.profile.returnedAt) ||\r\n                                                 (!this.state.profileShow.profile.id && this.state.profileShow.x == 100 ) ? '' : 'disabled'}*/\r\n                                            disabled\r\n                                            selected={(this.state.profileShow.x!=null && new Date(this.state.profileShow.profile.returnedAt)) || null}\r\n                                                                           // null}\r\n                            /*isClearable\r\n                            placeholderText=\"select Date!\"*/\r\n                                       // selected={(this.state.profileShow.profile.returnedAt && new Date(this.state.profileShow.profile.returnedAt)) || \r\n                               // null}\r\n                               // onChange={date => {\r\n                                   // this.onDateReturnedChange(date);\r\n                                    //console.log(\"date changed = \" + date);                               \r\n                                    // }}\r\n                                    />\r\n                        </div>\r\n                            </div>\r\n                            {this.state.profileShow.profile.profileDetail != null && <div className=\"ml-5 mt-3 d-flex justify-content-center\">\r\n                                <label>created at : {this.state.profileShow.profile.profileDetail.createdAt}</label>\r\n                                <label>modified at : {this.state.profileShow.profile.profileDetail.modifiedAt}</label>\r\n                                <label>owed amount : {this.state.profileShow.profile.profileDetail.owedAmount}</label>\r\n                                <label>paid amount : {this.state.profileShow.profile.profileDetail.paidAmount}</label>\r\n                                <label>paid plus></label><input min=\"0\" value={this.state.paidplus}\r\n                                    onClick={(value) => this.setState({ paidplus: value.target.value })} type=\"number\" />\r\n                            </div>}\r\n\r\n                            <div className=\"ml-5 mt-3 d-flex justify-content-center\">\r\n                                <button className=\"btn btn-mybtn p-x-5\" onClick={this.saveUpdated}>Save</button>\r\n                                <button className=\"btn btn-mybtn btn-delete px-5\" onClick={() => this.props.updateClicked(null)}>Cancel</button>\r\n                            </div>\r\n                        \r\n                        </div> {/*************** form right over  **************/}\r\n\r\n                        <div className=\"inline w60\">{/*************** form left **************/}\r\n                           \r\n                            <h6 className=\"required-field\">selected inventory :</h6>\r\n                            {this.state.profileShow.x == null && this.state.withUser && this.state.selectedPds &&\r\n                                this.state.selectedPds.map((pd, i) =>\r\n                                    <div>                                        \r\n                                    {i+1} :&nbsp;<input value={pd.name} className='form-control inline w80 m-0 p-2 pl-3' />\r\n                                       \r\n                                        <button className=\"btn btn-mybtn btn-delete m-0 ml-1\" type=\"button\"\r\n                                            onClick={() => {\r\n                                                this.oninventoryRemove(i);\r\n                                            }}><i class=\"fa fa-close ml-auto\">                                                \r\n                                            </i></button>\r\n                                    </div>\r\n                                    )}\r\n                                {(!this.state.withUser || this.state.profileShow.x != null) &&\r\n                                <>\r\n                                <input value={this.state.profileShow.profile.inventoryNumber || ''} className='form-control inline w90 m-0 p-2 pl-3'\r\n                                    //onChange={() => { this.oninventoryAdd(null) }}\r\n                                   // editable={false}\r\n                                />{this.state.changedPd && <i class=\"fa fa-undo ml-1\" onClick={() => { this.returnOriginalPd()}}>\r\n                                </i>}\r\n                                {this.state.profileShow.x==null &&\r\n                                    <p style={{ fontSize: \"70%\" }}> ps : selecting inventory from filter will change current inventory </p>}\r\n                                \r\n                                {/*console.log(\"this.state.profileShow.profile.userId = \" + this.state.profileShow.profile.userId)*/}\r\n                                {/*console.log(\"typeof this.state.profileShow.profile.userId = \" + typeof this.state.profileShow.profile.userId)*/}\r\n                                <h6 className=\"mt-1 required-field\">select user :</h6>\r\n                                <CustomSelect\r\n                                    className={\"b-r inline w80 m-0 p-0\"}\r\n                                    items={this.state.filter.userNames}\r\n                                    value={this.state.profileShow.profile.userId}\r\n                                    onChange={(selected) => this.onUserChange(selected)}\r\n                                />{this.state.changedUser && <i class=\"fa fa-undo ml-1\" onClick={() => { this.returnOriginalUser() }}>\r\n                                </i>}\r\n\r\n                                </>\r\n                            }\r\n\r\n                            \r\n                        </div>{/**********  form left over **********************/}\r\n                    </div>{/*************** form over ********************/}\r\n\r\n                  \r\n\r\n                    {this.state.profileShow.x==null &&\r\n                        <p style={{ fontSize: \"80%\" }}> ps : changing date will change previous records as well and may cause lose of data </p>}\r\n                    </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserProfileInnerComponent"]},"metadata":{},"sourceType":"module"}