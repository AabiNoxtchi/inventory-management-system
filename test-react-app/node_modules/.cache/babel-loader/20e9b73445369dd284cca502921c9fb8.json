{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Uni-2020\\\\Java\\\\imy-project\\\\inventory-management-system\\\\test-react-app\\\\src\\\\component\\\\SupplierComponent.jsx\";\nimport React, { Component } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport SupplierDataService from '../service/SupplierDataService';\nimport '../myStyles/Style.css';\nimport CustomSelect from './Filters/CustomSelect';\n\nclass SupplierComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: this.props.match.params.id,\n      name: '',\n      phoneNumber: '',\n      ddcnumber: '',\n      email: '',\n      phoneCodes: [],\n      defaultCodeValue: ''\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.validate = this.validate.bind(this);\n    this.cancelForm = this.cancelForm.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(this.state.id);\n    /* if (this.state.id === -1) {\r\n         return\r\n     }*/\n\n    SupplierDataService.retrieve(this.state.id).then(response => {\n      console.log(\"response = \" + JSON.stringify(response));\n      this.setState({\n        name: response.data.name,\n        phoneNumber: response.data.phoneNumber,\n        ddcnumber: response.data.ddcnumber,\n        email: response.data.email,\n        phoneCodes: response.data.phoneCodes,\n        defaultCodeValue: response.data.defaultCodeValue\n      });\n    });\n  }\n\n  onSubmit(values) {\n    let item = {\n      id: this.state.id,\n      name: values.name,\n      phoneNumber: values.phoneNumber,\n      ddcnumber: values.ddcnumber,\n      email: values.email,\n      targetDate: values.targetDate\n    };\n    console.log('item = ' + item);\n    SupplierDataService.save(item).then(() => this.props.history.push('/suppliers')).catch(error => {\n      console.log(\"error\" + error);\n      console.log(\"json.error = \" + JSON.stringify(error.response));\n    });\n  }\n\n  validate(values) {\n    let errors = {};\n\n    if (!values.name) {\n      errors.name = 'required field !!!';\n    } else if (values.name.length < 5) {\n      errors.userName = 'Enter atleast 5 Characters';\n    } else if (values.name.length > 50) {\n      errors.userName = 'too Long Max is 50 charachters';\n    }\n\n    if (!values.ddcnumber) {\n      errors.ddcnumber = 'required field !!!';\n    } else if (values.ddcnumber.length < 11 || values.ddcnumber.length > 11) {\n      errors.email = 'Enter 11 Characters';\n    }\n\n    if (!values.email) {\n      errors.email = 'required field !!!';\n    } else if (values.email.length < 4) {\n      errors.email = 'Enter atleast 4 Characters';\n    }\n\n    return errors;\n  }\n\n  cancelForm() {\n    // this.props.history.push('/suppliers')\n    window.history.back();\n  }\n\n  render() {\n    let {\n      id,\n      name,\n      phoneNumber,\n      ddcnumber,\n      email\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [this.state.id > 0 ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3\",\n        children: \" Update Supplier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 38\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3\",\n        children: \" Add New Supplier \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 83\n      }, this), /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: {\n          id,\n          name,\n          phoneNumber,\n          ddcnumber,\n          email\n        },\n        onSubmit: this.onSubmit,\n        validateOnChange: false,\n        validateOnBlur: false,\n        validate: this.validate,\n        enableReinitialize: true,\n        children: (props, values, setFieldValue) => /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            className: \"form-control\",\n            type: \"text\",\n            name: \"id\",\n            hidden: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              className: \"form-control w-50\",\n              type: \"text\",\n              name: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"name\",\n              component: \"div\",\n              className: \"alert alert-warning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group inline w20\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"country\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(CustomSelect, {\n              className: \"\",\n              items: this.state.phoneCodes,\n              value: this.state.defaultCodeValue,\n              onChange: value => {\n                this.setState({\n                  defaultCodeValue: value\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"inline form-group\",\n            children: [\"+\", this.state.defaultCodeValue]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group inline w-25\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"phone number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              className: \"form-control\",\n              type: \"text\",\n              name: \"phoneNumber\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"phoneNumber\",\n              component: \"div\",\n              className: \"alert alert-warning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"DDC number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              className: \"form-control w-25\",\n              type: \"text\",\n              name: \"ddcnumber\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"ddcnumber\",\n              component: \"div\",\n              className: \"alert alert-warning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              className: \"form-control w-50\",\n              type: \"email\",\n              name: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              name: \"email\",\n              component: \"div\",\n              className: \"alert alert-warning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-mybtn px-5\",\n            type: \"submit\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-mybtn btn-delete px-5 ml-5\",\n            type: \"button\",\n            onClick: this.cancelForm,\n            children: \"cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SupplierComponent;","map":{"version":3,"sources":["D:/Uni-2020/Java/imy-project/inventory-management-system/test-react-app/src/component/SupplierComponent.jsx"],"names":["React","Component","Formik","Form","Field","ErrorMessage","SupplierDataService","CustomSelect","SupplierComponent","constructor","props","state","id","match","params","name","phoneNumber","ddcnumber","email","phoneCodes","defaultCodeValue","onSubmit","bind","validate","cancelForm","componentDidMount","console","log","retrieve","then","response","JSON","stringify","setState","data","values","item","targetDate","save","history","push","catch","error","errors","length","userName","window","back","render","setFieldValue","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport SupplierDataService from '../service/SupplierDataService';\r\nimport '../myStyles/Style.css';\r\nimport CustomSelect from './Filters/CustomSelect'\r\n\r\nclass SupplierComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            id: this.props.match.params.id,\r\n            name: '',\r\n            phoneNumber: '',\r\n            ddcnumber: '',\r\n            email: '',\r\n            phoneCodes: [],\r\n            defaultCodeValue:''\r\n        }\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n        this.validate = this.validate.bind(this)\r\n        this.cancelForm = this.cancelForm.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.state.id)\r\n       /* if (this.state.id === -1) {\r\n            return\r\n        }*/\r\n        SupplierDataService.retrieve(this.state.id)\r\n            .then(response => {\r\n                console.log(\"response = \" + JSON.stringify(response));\r\n                this.setState({\r\n                    name: response.data.name,\r\n                    phoneNumber: response.data.phoneNumber,\r\n                    ddcnumber: response.data.ddcnumber,\r\n                    email: response.data.email,\r\n                    phoneCodes: response.data.phoneCodes,\r\n                    defaultCodeValue: response.data.defaultCodeValue\r\n                })\r\n            })\r\n    }\r\n\r\n    onSubmit(values) {\r\n        let item = {\r\n            id: this.state.id,\r\n            name: values.name,\r\n            phoneNumber: values.phoneNumber,\r\n            ddcnumber: values.ddcnumber,\r\n            email: values.email,\r\n            targetDate: values.targetDate\r\n        }\r\n        console.log('item = ' + item);\r\n        SupplierDataService.save(item)\r\n            .then(() => this.props.history.push('/suppliers'))\r\n            .catch(error => {\r\n                console.log(\"error\" + error);\r\n                console.log(\"json.error = \" + JSON.stringify(error.response))\r\n            } )\r\n    }\r\n\r\n    validate(values) {\r\n        let errors = {}\r\n        if (!values.name) {\r\n            errors.name = 'required field !!!'\r\n        } else if (values.name.length < 5) {\r\n            errors.userName = 'Enter atleast 5 Characters'\r\n        } else if (values.name.length >50) {\r\n            errors.userName = 'too Long Max is 50 charachters'\r\n        }\r\n\r\n        if (!values.ddcnumber) {\r\n            errors.ddcnumber = 'required field !!!'\r\n        } else if (values.ddcnumber.length < 11 || values.ddcnumber.length > 11) {\r\n            errors.email = 'Enter 11 Characters'\r\n        } \r\n\r\n        if (!values.email) {\r\n            errors.email = 'required field !!!'\r\n        } else if (values.email.length < 4) {\r\n            errors.email = 'Enter atleast 4 Characters'\r\n        }\r\n\r\n        return errors\r\n    }\r\n\r\n    cancelForm() {\r\n       // this.props.history.push('/suppliers')\r\n        window.history.back();\r\n    }\r\n\r\n    render() {\r\n        let { id, name, phoneNumber, ddcnumber, email } = this.state\r\n        return (\r\n            <div className=\"container\">\r\n                {this.state.id > 0 ? <h3 className=\"mb-3\"> Update Supplier</h3> : <h3 className=\"mb-3\"> Add New Supplier </h3>}\r\n                <Formik\r\n                    initialValues={{ id, name, phoneNumber, ddcnumber, email }}\r\n                    onSubmit={this.onSubmit}\r\n                    validateOnChange={false}\r\n                    validateOnBlur={false}\r\n                    validate={this.validate}\r\n                    enableReinitialize={true}\r\n                >\r\n                    {\r\n                        (props, values, setFieldValue) => (\r\n                            <Form>\r\n                               \r\n                                <Field className=\"form-control\" type=\"text\" name=\"id\" hidden />\r\n                                <fieldset className=\"form-group\">\r\n                                    <label>name</label>\r\n                                    <Field className=\"form-control w-50\" type=\"text\" name=\"name\" />\r\n                                    <ErrorMessage name=\"name\" component=\"div\"\r\n                                        className=\"alert alert-warning\" />\r\n                                </fieldset>\r\n                                <fieldset className=\"form-group inline w20\">\r\n                                    <label>country</label>\r\n                                    <CustomSelect\r\n                                        className=\"\"\r\n                                        items={this.state.phoneCodes}\r\n                                        value={this.state.defaultCodeValue}\r\n                                        onChange={(value) => { this.setState({ defaultCodeValue: value}) }}\r\n                                        />\r\n                                </fieldset>\r\n\r\n                                <p className=\"inline form-group\">+{this.state.defaultCodeValue}</p>\r\n                                <fieldset className=\"form-group inline w-25\">\r\n                                    <label>phone number</label>\r\n                                    <Field className=\"form-control\" type=\"text\" name=\"phoneNumber\" />\r\n                                    <ErrorMessage name=\"phoneNumber\" component=\"div\"\r\n                                        className=\"alert alert-warning\" />\r\n                                </fieldset>\r\n                                <fieldset className=\"form-group\">\r\n                                    <label>DDC number</label>\r\n                                    <Field className=\"form-control w-25\" type=\"text\" name=\"ddcnumber\" />\r\n                                    <ErrorMessage name=\"ddcnumber\" component=\"div\"\r\n                                        className=\"alert alert-warning\" />\r\n                                </fieldset>\r\n                                <fieldset className=\"form-group\">\r\n                                    <label>email</label>\r\n                                    <Field className=\"form-control w-50\" type=\"email\" name=\"email\" />\r\n                                    <ErrorMessage name=\"email\" component=\"div\"\r\n                                        className=\"alert alert-warning\" />\r\n                                </fieldset>\r\n                                <button className=\"btn btn-mybtn px-5\" type=\"submit\">Save</button>\r\n                                <button className=\"btn btn-mybtn btn-delete px-5 ml-5\" type=\"button\" onClick={this.cancelForm}>cancel</button>\r\n                            </Form>\r\n                        )\r\n                    }\r\n                </Formik>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SupplierComponent"]},"metadata":{},"sourceType":"module"}