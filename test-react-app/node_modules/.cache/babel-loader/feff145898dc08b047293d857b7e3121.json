{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport '../myStyles/Style.css';\nimport DatePicker from \"react-datepicker\";\nimport CustomSelect from './Filters/CustomSelect';\nimport ProductDetailFilter from './Filters/ProductDetailFilter';\nimport UserProfileDataService from '../service/UserProfileDataService';\n\nclass TimelineInnerComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: '',\n      users: props.users,\n      lastSearch: '',\n      selected: ''\n    };\n    this.refresh = this.refresh.bind(this);\n  }\n\n  componentDidMount() {\n    let selected = this.getFilteredInventoty();\n    let search = '?Filter.filtersSet=true&Filter.productDetailId=' + selected.value;\n    this.setState({\n      selected: selected,\n      lastSearch: search\n    });\n    this.refresh(search);\n  }\n\n  getFilteredInventoty() {\n    //original\n    let filteredInventory = this.state.filter.productDetailId ? this.state.filter.inventoryNumbers.find(n => n.value == this.state.filter.productDetailId) : null;\n    return filteredInventory;\n  }\n\n  refresh(search) {\n    UserProfileDataService.retrieve(search).then(response => {\n      this.setState({\n        items: response.data.items || response.data.daoitems,\n        pager: response.data.pager\n      });\n    }).catch(error => {\n      this.setState({\n        errormsg: '' + error == 'Error: Request failed with status code 401' ? 'need to login again !!!' : error.response && typeof error.response.data == 'string' ? error.response.data : error.response.data.message ? error.response.data.message : error\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n\n}\n\nexport default TimelineInnerComponent;","map":{"version":3,"sources":["D:/Uni-2020/Java/imy-project/inventory-management-system/test-react-app/src/component/TimelineInnerComponent.jsx"],"names":["DatePicker","CustomSelect","ProductDetailFilter","UserProfileDataService","TimelineInnerComponent","Component","constructor","props","state","items","users","lastSearch","selected","refresh","bind","componentDidMount","getFilteredInventoty","search","value","setState","filteredInventory","filter","productDetailId","inventoryNumbers","find","n","retrieve","then","response","data","daoitems","pager","catch","error","errormsg","message","render"],"mappings":";;AAAA,OAAO,uBAAP;AACA,OAAOA,UAAP,MAAuB,kBAAvB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,OAAOC,mBAAP,MAAgC,+BAAhC;AACA,OAAOC,sBAAP,MAAmC,mCAAnC;;AAGA,MAAMC,sBAAN,SAAqCC,SAArC,CAA+C;AAC3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GACI;AACIC,MAAAA,KAAK,EAAE,EADX;AAEAC,MAAAA,KAAK,EAAEH,KAAK,CAACG,KAFb;AAGIC,MAAAA,UAAU,EAAE,EAHhB;AAIIC,MAAAA,QAAQ,EAAC;AAJb,KADJ;AAOA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAEhB,QAAIH,QAAQ,GAAG,KAAKI,oBAAL,EAAf;AACA,QAAIC,MAAM,GAAG,oDAAoDL,QAAQ,CAACM,KAA1E;AACA,SAAKC,QAAL,CAAc;AAAEP,MAAAA,QAAQ,EAAEA,QAAZ;AAAsBD,MAAAA,UAAU,EAAEM;AAAlC,KAAd;AAEA,SAAKJ,OAAL,CAAaI,MAAb;AACH;;AAEDD,EAAAA,oBAAoB,GAAG;AAAC;AACpB,QAAII,iBAAiB,GAAI,KAAKZ,KAAL,CAAWa,MAAX,CAAkBC,eAAnB,GAAsC,KAAKd,KAAL,CAAWa,MAAX,CAAkBE,gBAAlB,CAAmCC,IAAnC,CAAwCC,CAAC,IAAIA,CAAC,CAACP,KAAF,IAAW,KAAKV,KAAL,CAAWa,MAAX,CAAkBC,eAA1E,CAAtC,GAClB,IADN;AAEA,WAAOF,iBAAP;AACH;;AAEDP,EAAAA,OAAO,CAACI,MAAD,EAAS;AACZd,IAAAA,sBAAsB,CAACuB,QAAvB,CAAgCT,MAAhC,EACKU,IADL,CAEQC,QAAQ,IAAI;AACR,WAAKT,QAAL,CAAc;AACVV,QAAAA,KAAK,EAAEmB,QAAQ,CAACC,IAAT,CAAcpB,KAAd,IAAuBmB,QAAQ,CAACC,IAAT,CAAcC,QADlC;AAEVC,QAAAA,KAAK,EAAEH,QAAQ,CAACC,IAAT,CAAcE;AAFX,OAAd;AAIH,KAPT,EAQMC,KARN,CAQaC,KAAD,IAAW;AACf,WAAKd,QAAL,CAAc;AACVe,QAAAA,QAAQ,EAAE,KAAKD,KAAL,IAAc,4CAAd,GAA6D,yBAA7D,GACNA,KAAK,CAACL,QAAN,IAAkB,OAAOK,KAAK,CAACL,QAAN,CAAeC,IAAtB,IAA8B,QAAhD,GAA2DI,KAAK,CAACL,QAAN,CAAeC,IAA1E,GACII,KAAK,CAACL,QAAN,CAAeC,IAAf,CAAoBM,OAApB,GAA8BF,KAAK,CAACL,QAAN,CAAeC,IAAf,CAAoBM,OAAlD,GAA4DF;AAH1D,OAAd;AAKH,KAdL;AAeH;;AAGDG,EAAAA,MAAM,GAAG;AACL,wBACI,qCADJ;AAQH;;AAzD0C;;AA4D/C,eAAehC,sBAAf","sourcesContent":["import '../myStyles/Style.css';\r\nimport DatePicker from \"react-datepicker\";\r\nimport CustomSelect from './Filters/CustomSelect';\r\nimport ProductDetailFilter from './Filters/ProductDetailFilter';\r\nimport UserProfileDataService from '../service/UserProfileDataService';\r\n\r\n\r\nclass TimelineInnerComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state =\r\n            {\r\n                items: '',                \r\n            users: props.users,                             \r\n                lastSearch: '',\r\n                selected:''\r\n            }\r\n        this.refresh = this.refresh.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n        let selected = this.getFilteredInventoty();\r\n        let search = '?Filter.filtersSet=true&Filter.productDetailId=' + selected.value\r\n        this.setState({ selected: selected, lastSearch: search })\r\n          \r\n        this.refresh(search)\r\n    }\r\n\r\n    getFilteredInventoty() {//original\r\n        let filteredInventory = (this.state.filter.productDetailId) ? this.state.filter.inventoryNumbers.find(n => n.value == this.state.filter.productDetailId)\r\n            : null;\r\n        return filteredInventory\r\n    }\r\n\r\n    refresh(search) {\r\n        UserProfileDataService.retrieve(search)\r\n            .then(\r\n                response => {                   \r\n                    this.setState({\r\n                        items: response.data.items || response.data.daoitems,\r\n                        pager: response.data.pager,\r\n                    });\r\n                }\r\n            ).catch((error) => {\r\n                this.setState({\r\n                    errormsg: '' + error == 'Error: Request failed with status code 401' ? 'need to login again !!!' : \r\n                        error.response && typeof error.response.data == 'string' ? error.response.data :\r\n                            error.response.data.message ? error.response.data.message : error\r\n                })\r\n            })\r\n    }\r\n   \r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                \r\n               \r\n\r\n                   \r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TimelineInnerComponent"]},"metadata":{},"sourceType":"module"}